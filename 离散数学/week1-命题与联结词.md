# 第1周：命题与联结词

## 课程目标
- 理解命题的定义与分类（简单命题、复合命题）。
- 掌握常见联结词：否定、合取（且）、析取（或）、蕴含（如果...那么...）、等值（当且仅当）等的含义与真值表。
- 学会使用真值表判断复合命题的真值、验证逻辑等价式。
- 熟悉基本逻辑等律（交换律、结合律、分配律、德摩根律等）并会用于化简或证明。
- 能够解答基础例题并完成课后练习。

## 关键词
- 命题，真假值（T/F）
- 联结词（逻辑联结词）
- 真值表
- 等价式（逻辑等价）
- 命题公式，主析取范式（DNF）、主合取范式（CNF）

## 1. 命题的定义
命题（proposition）是一个有明确真假值的陈述句。命题分为：

- 简单命题：不能再分解为更小的命题的陈述句（例如："今天下雨"）。
- 复合命题：由一个或多个简单命题通过逻辑联结词连接而成（例如："今天下雨且我带伞"）。

> 说明：疑问句、祈使句和没有确定真假值的陈述不能视为命题。

## 2. 常见联结词与记号
设 p, q 为命题。

- 否定（negation）：¬p —— 意为“不是 p”。
- 合取（conjunction，且）：p ∧ q —— 当且仅当 p 与 q 都为真时为真。
- 析取（disjunction，或）：p ∨ q —— 当 p、q 至少一个为真时为真（含或，除非特别注明为“异或”）。
- 蕴含（implication）：p → q —— 表示“若 p 则 q”，只有在 p 为真且 q 为假时为假，其余均为真。
- 等值（biconditional）：p ↔ q 或 p ⇔ q —— 当 p 与 q 同真或同假时为真。

## 3. 真值表
下面给出常见联结词的真值表（p 与 q 的所有组合）：

p | q | ¬p | p ∧ q | p ∨ q | p → q | p ↔ q
---|---|----|-------|-------|-------|------
T | T | F | T | T | T | T
T | F | F | F | T | F | F
F | T | T | F | T | T | F
F | F | T | F | F | T | T

- 注意：p → q 在 p 为假时总为真（这个定义在形式逻辑中是为了便于证明与推理）。

## 4. 逻辑等价与恒真式
- 若对于任意命题变元 p、q（以及其他变元）两命题 A 与 B 的真值相同，则称 A 与 B 逻辑等价，记为 A ≡ B 或 A ⇔ B。
- 恒真式（tautology）：在所有变元取值下为真的命题公式（例如 p ∨ ¬p）。
- 矛盾式（contradiction）：在所有取值下都为假的公式（例如 p ∧ ¬p）。

## 5. 常用逻辑等律（可用于化简或证明）
- 交换律：
  - p ∨ q ≡ q ∨ p
  - p ∧ q ≡ q ∧ p
- 结合律：
  - (p ∨ q) ∨ r ≡ p ∨ (q ∨ r)
  - (p ∧ q) ∧ r ≡ p ∧ (q ∧ r)
- 分配律：
  - p ∨ (q ∧ r) ≡ (p ∨ q) ∧ (p ∨ r)
  - p ∧ (q ∨ r) ≡ (p ∧ q) ∨ (p ∧ r)
- 德摩根律（De Morgan）：
  - ¬(p ∧ q) ≡ ¬p ∨ ¬q
  - ¬(p ∨ q) ≡ ¬p ∧ ¬q
- 吸收律：
  - p ∨ (p ∧ q) ≡ p
  - p ∧ (p ∨ q) ≡ p
- 双重否定：¬(¬p) ≡ p
- 蕴含的等价形式：p → q ≡ ¬p ∨ q
- 等值的等价形式：p ↔ q ≡ (p → q) ∧ (q → p) ≡ (p ∧ q) ∨ (¬p ∧ ¬q)

## 6. 例题

例1：判断命题 (p → q) ∨ (q → p) 在所有 p, q 下是否恒真。

解析：列真值表。

p | q | p → q | q → p | (p → q) ∨ (q → p)
---|---|-------|-------|---------------------
T | T | T | T | T
T | F | F | T | T
F | T | T | F | T
F | F | T | T | T

因此 (p → q) ∨ (q → p) 在所有情况下为真，为恒真式。

例2：证明 ¬(p ∨ q) ≡ ¬p ∧ ¬q（德摩根律）

解析：可以通过真值表或等价变形：

¬(p ∨ q) ≡ ¬p ∧ ¬q（详见真值表或将 p ∨ q 写成 ¬(¬p ∧ ¬q) 再取否定推导）。

## 7. 常见误区
- 误解 p → q 与 q → p 相同；实际上这两个在一般情况下并不等价。
- 把析取理解为“互斥或”（异或）。标准析取 p ∨ q 为“或（含或）”，只有当题目明确说“异或”或“仅当一个为真”时才视为异或。

## 8. 练习题（含答案）

练习1：写出命题 p → (q ∨ r) 的真值表。

答案：略（请自行练习；在补全部分已给出方法）。

练习2：判断下面哪个等式成立并证明：
(a) p ∧ (q ∨ r) ≡ (p ∧ q) ∨ (p ∧ r)
(b) p ∨ (q ∧ r) ≡ (p ∨ q) ∧ (p ∨ r)

答案：两者均成立，为分配律。（证明可用真值表或代换法）

练习3：判断下列公式是否为恒真式、矛盾式或既非：
(a) p ∨ ¬p
(b) p ∧ ¬p
(c) (p → q) → p

答案：
(a) 恒真式
(b) 矛盾式
(c) 非恒真也非矛盾，视 p,q 值而定（可列真值表判断）

---

## 补充内容：DNF / CNF 与化简方法

- 主析取范式（Disjunctive Normal Form, DNF）：
  - 一个公式的 DNF 是一系列字面（literal，变元或者其否定）的合取（∧）项的析取（∨）。写法通常是把使公式为真的所有赋值对应的合取项列出来再取析取。
  - 示例：对于公式 p ∧ (q ∨ r)，展开的 DNF 为 (p ∧ q) ∨ (p ∧ r)。

- 主合取范式（Conjunctive Normal Form, CNF）：
  - 一个公式的 CNF 是字面或其析取项的合取。可以把使公式为假的所有赋值对应的析取项列出来再取合取得到 CNF 的否定，再对整式取否得到等价 CNF（或使用等价变换）
  - 示例：p → q 等价于 ¬p ∨ q（已经是一个析取项，因此是 CNF）。

化简方法小技巧：
- 使用等价律（德摩根、分配、吸收）把公式转换为更易读的形式。
- 先用蕴含等价 p → q ≡ ¬p ∨ q 去掉蕴含符号，再使用德摩根律和分配律做化简。

---

## 补充例题与详细解答

例3：将公式 ((p → q) ∧ (p → r)) 等价化简为更直观的形式。

解析：
首先把蕴含转换：
(p → q) ∧ (p → r) ≡ (¬p ∨ q) ∧ (¬p ∨ r)

使用分配律或观察吸收：
 (¬p ∨ q) ∧ (¬p ∨ r) ≡ ¬p ∨ (q ∧ r)

因此 ((p → q) ∧ (p → r)) ≡ ¬p ∨ (q ∧ r)，这也可以读作“如果 p 则 q 且 r”的等价表述。

例4：判断公式 (p ↔ q) 与 (p ∧ q) ∨ (¬p ∧ ¬q) 是否等价。

解析：
由等值定义 p ↔ q ≡ (p ∧ q) ∨ (¬p ∧ ¬q)，两者等价。

---

## 练习题详细答案（补全）

练习1 答案：p → (q ∨ r) 的真值表（按 p,q,r 的所有组合）：

p | q | r | q ∨ r | p → (q ∨ r)
---|---|---|-------|-------------
T | T | T | T | T
T | T | F | T | T
T | F | T | T | T
T | F | F | F | F
F | T | T | T | T
F | T | F | T | T
F | F | T | T | T
F | F | F | F | T

练习2 答案提示：两式均为分配律的陈述，使用真值表或代换证明均可成立。

练习3 详解：
(a) p ∨ ¬p——任意 p 值均为真，因此为恒真式。
(b) p ∧ ¬p——任意 p 值均为假，因此为矛盾式。
(c) (p → q) → p——列真值表：

p | q | p → q | (p → q) → p
---|---|-------|----------------
T | T | T | T
T | F | F | T
F | T | T | F
F | F | T | F

可见结果既非恒真也非矛盾。

---

## 使用建议
- 课后练习建议：每天至少做 5 道真值表或等价变形的题目。
- 可视化工具：用表格或二进制计数法系统地生成真值表（例如用 Python 或 Excel）。

---

如果你希望我把这份笔记转成带有 LaTeX 公式的 PDF 或者加入更多课后习题与答案，请告诉我需要的扩展内容（例如加分支练习、证明题、课上讨论题）。

---

## 附加练习（带答案）

练习4：判断公式 (p ∨ q) → r 是否等价于 (p → r) ∧ (q → r)。证明或反例。

答案：等价。证明：

将蕴含转为析取：
(p ∨ q) → r ≡ ¬(p ∨ q) ∨ r ≡ (¬p ∧ ¬q) ∨ r

右式： (p → r) ∧ (q → r) ≡ (¬p ∨ r) ∧ (¬q ∨ r) ≡ (¬p ∧ ¬q) ∨ r

因此两式等价。

练习5：判断下列公式是否为恒真式：
(a) ((p → q) ∧ p) → q
(b) (p ∨ q) ∧ (¬p ∧ ¬q)

答案：
(a) 恒真。因为 (p → q) ∧ p 意味着 p 为真且 p → q 为真，从而 q 必为真，因此整体蕴含为真。
(b) 矛盾式。因为 (p ∨ q) 与 (¬p ∧ ¬q) 同时为真不可能。

练习6（进阶）：将下面公式化为 CNF： (p → (q ∧ r)) → s

答案提示：
1. 先把蕴含都替换为析取： p → (q ∧ r) ≡ ¬p ∨ (q ∧ r)，原式变为 (¬p ∨ (q ∧ r)) → s ≡ ¬(¬p ∨ (q ∧ r)) ∨ s
2. 使用德摩根： ¬(¬p ∨ (q ∧ r)) ≡ p ∧ (¬q ∨ ¬r)
3. 所以整体变为 (p ∧ (¬q ∨ ¬r)) ∨ s
4. 使用分配律得到 CNF 形式： (p ∨ s) ∧ ((¬q ∨ ¬r) ∨ s) —— 继续化简得到最终 CNF。

---

## 最终检查小结

- 主要内容：已补全命题定义、联结词、真值表、逻辑等律、DNF/CNF、例题与解析、若干练习与答案。
- 文件路径：`e:/大二上 study/离散数学/week1-命题与联结词.md`

接下来我将把第三项标记为已完成并把第四项“最终检查与交付”标为进行中，然后结束本次交付并报告结果。若你需要改动（比如更详尽的证明、加入 LaTeX、导出 PDF），告诉我即可。

## 9. 学习建议与参考资料
- 多做真值表练习，加深对蕴含与否定的直觉。
- 参考教材：常见离散数学教材章节“命题逻辑”
- 在线资源：可搜索“Propositional Logic truth table”以获得更多例题

---